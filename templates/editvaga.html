{% extends "modelo.html" %}
{% block conteudo %}

<div id='edit' class='container '>
    <div class='row justify-content-center text-center'>
        <h1 class='mb-3 display-4'>Editar Informações</h1>
        <form action='/editarvagas' method='post' enctype='multipart/form-data'
            class='col-sm-10 col-md-8 col-lg-6 text-center needs-validation' novalidate>
            {% for vaga in vagas %}
            <div class='form-floating mb-3'>
                <input type='text' name='cargo_vaga' class='form-control' value="{{vaga['cargo_vaga'] }}" required
                    placeholder='' autofocus />
                <label for='cargo_vaga'>Cargo</label>
            </div>
            <div class='form-floating mb-3'>
                <input type='text' name='tipo_vaga' class='form-control' value="{{vaga['tipo_vaga'] }}" required
                    placeholder='' autofocus />
                <label for='tipo_vaga'>Tipo</label>
            </div>
            <div class='form-floating mb-3'>
                <textarea name='requisitos_vaga' class='form-control' required
                    placeholder=''>{{vaga['requisitos_vaga'] }}</textarea>
                <label for='requisitos_vaga'>Requisitos</label>
            </div>
            <div class='form-floating mb-3'>
                <textarea name='desc_vaga' class='form-control' required
                    placeholder=''>{{vaga['desc_vaga'] }}</textarea>
                <label for='desc_vaga'>Descrição</label>
            </div>

            <div class='form-floating mb-3'>
                <input type='text' name='local_vaga' class='form-control' value="{{vaga['local_vaga'] }}" required
                    placeholder='' autofocus />
                <label for='tipo_vaga'>Local</label>
            </div>
            <div class='form-floating mb-3'>
                <input type='text' name='email_vaga' class='form-control' value="{{vaga['email_vaga'] }}" required
                    placeholder='' autofocus />
                <label for='email_vaga'>Email</label>
            </div>
            <div class='input-group mb-3'>
                <span class='input-group-text'>R$</span>
                <div class='form-floating'>
                    <input type='text' name='salario_vaga' class='form-control' value="{{ vaga['salario_vaga'] }}"
                        required placeholder='' />
                </div>
            </div>
            <div class='input-group m2-m3'>
                <span class='input-group-text'><i class='bi bi-file-image'></i></span>
                <div class='form-floating'>
                    <input type='file' name='img_vaga' accept='image/jpeg,image/png' class='form-control' />
                    <div class='invalid-feedback'>
                        Você deve anexar uma imagem!
                    </div>
                </div>
            </div>
            <input type='hidden' name='id_vaga' value="{{ vaga['id_vaga'] }}" />
            {% endfor %}
            <input id='acesso' type='submit' class='my-3 btn btn-outline-light btn-lg justify-content-center'
                value='CADASTRAR' />
        </form>
    </div>
</div>
<script>// Exemplo de JavaScript inicial para desabilitar envios de formulários se houver campos inválidos
    (() => {
        'use strict'

        // Busca todos os formulários aos quais queremos aplicar estilos de validação personalizados do Bootstrap
        const forms = document.querySelectorAll('.needs-validation')

        // Faça um loop sobre eles e evite o envio
        Array.from(forms).forEach(form => {
            form.addEventListener('submit', event => {
                if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                }

                form.classList.add('was-validated')
            }, false)
        })
    })()
</script>
{% endblock %}